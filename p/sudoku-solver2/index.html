<!doctype html>
<html><head>
<meta charset="UTF-8">
<title>World of Hal Canary</title>
<link rel="stylesheet" type="text/css" href="/styles/scrapple-from-the-apple.css">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta name="viewport" content="width=532">
<script>
function search_hco() {
  document.getElementById("search-link-halcanary-org").style.display = "none";
  document.getElementById("search-halcanary-org").style.display = "block";
  return false;
}
</script>
</head>
<body><div class="column" style="width:512px;">
<h1><a href="/" class="hiddenlink"><img src="/images/Hal_W_Canary_3_hand.jpg" alt="Hal W Canary, III" width="400" height="91" style="border:0px"></a></h1>
<div class="section">
<nav><p><a href="/">Home</a></p></nav>
</div>
<div class="section">
  <h2>Sudoku Solver</h2>
  <form id="sudokuinput" action="" onsubmit="return false;">
    <table class="p">
      <tbody><tr><th colspan="11">INPUT:</th></tr>
      <tr>
	<td><input name="00" size="1" type="text"></td>
	<td><input name="01" size="1" type="text"></td>
	<td><input name="02" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="03" size="1" type="text"></td>
	<td><input name="04" size="1" type="text"></td>
	<td><input name="05" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="06" size="1" type="text"></td>
	<td><input name="07" size="1" type="text"></td>
	<td><input name="08" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="10" size="1" type="text"></td>
	<td><input name="11" size="1" type="text"></td>
	<td><input name="12" size="1" type="text"></td>
	<td><input name="13" size="1" type="text"></td>
	<td><input name="14" size="1" type="text"></td>
	<td><input name="15" size="1" type="text"></td>
	<td><input name="16" size="1" type="text"></td>
	<td><input name="17" size="1" type="text"></td>
	<td><input name="18" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="20" size="1" type="text"></td>
	<td><input name="21" size="1" type="text"></td>
	<td><input name="22" size="1" type="text"></td>
	<td><input name="23" size="1" type="text"></td>
	<td><input name="24" size="1" type="text"></td>
	<td><input name="25" size="1" type="text"></td>
	<td><input name="26" size="1" type="text"></td>
	<td><input name="27" size="1" type="text"></td>
	<td><input name="28" size="1" type="text"></td>
      </tr>
      <tr><td style="background-color: black;" colspan="11"></td></tr>
      <tr>
	<td><input name="30" size="1" type="text"></td>
	<td><input name="31" size="1" type="text"></td>
	<td><input name="32" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="33" size="1" type="text"></td>
	<td><input name="34" size="1" type="text"></td>
	<td><input name="35" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="36" size="1" type="text"></td>
	<td><input name="37" size="1" type="text"></td>
	<td><input name="38" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="40" size="1" type="text"></td>
	<td><input name="41" size="1" type="text"></td>
	<td><input name="42" size="1" type="text"></td>
	<td><input name="43" size="1" type="text"></td>
	<td><input name="44" size="1" type="text"></td>
	<td><input name="45" size="1" type="text"></td>
	<td><input name="46" size="1" type="text"></td>
	<td><input name="47" size="1" type="text"></td>
	<td><input name="48" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="50" size="1" type="text"></td>
	<td><input name="51" size="1" type="text"></td>
	<td><input name="52" size="1" type="text"></td>
	<td><input name="53" size="1" type="text"></td>
	<td><input name="54" size="1" type="text"></td>
	<td><input name="55" size="1" type="text"></td>
	<td><input name="56" size="1" type="text"></td>
	<td><input name="57" size="1" type="text"></td>
	<td><input name="58" size="1" type="text"></td>
      </tr>
      <tr><td style="background-color: black;" colspan="11"></td></tr>
      <tr>
	<td><input name="60" size="1" type="text"></td>
	<td><input name="61" size="1" type="text"></td>
	<td><input name="62" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="63" size="1" type="text"></td>
	<td><input name="64" size="1" type="text"></td>
	<td><input name="65" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input name="66" size="1" type="text"></td>
	<td><input name="67" size="1" type="text"></td>
	<td><input name="68" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="70" size="1" type="text"></td>
	<td><input name="71" size="1" type="text"></td>
	<td><input name="72" size="1" type="text"></td>
	<td><input name="73" size="1" type="text"></td>
	<td><input name="74" size="1" type="text"></td>
	<td><input name="75" size="1" type="text"></td>
	<td><input name="76" size="1" type="text"></td>
	<td><input name="77" size="1" type="text"></td>
	<td><input name="78" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input name="80" size="1" type="text"></td>
	<td><input name="81" size="1" type="text"></td>
	<td><input name="82" size="1" type="text"></td>
	<td><input name="83" size="1" type="text"></td>
	<td><input name="84" size="1" type="text"></td>
	<td><input name="85" size="1" type="text"></td>
	<td><input name="86" size="1" type="text"></td>
	<td><input name="87" size="1" type="text"></td>
	<td><input name="88" size="1" type="text"></td>
      </tr>
    </tbody></table>
  </form>
  <p>
    <input value="Solve" onclick="solve();" type="button">
    <input value="Clear Input" onclick="clearinput();" type="button">
  </p>
  <p>
    <input value="Sample 1" onclick="sample1();" type="button">
    <input value="Sample 2" onclick="sample2();" type="button">
    <input value="Sample 3" onclick="sample3();" type="button">
  </p>

  <form id="sudokuoutput" action="" onsubmit="return false;">
    <table class="p">
      <tbody><tr><th colspan="11">OUPUT:</th></tr>
      <tr>
	<td><input style="" readonly="readonly" name="00" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="01" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="02" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="03" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="04" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="05" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="06" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="07" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="08" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="10" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="11" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="12" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="13" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="14" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="15" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="16" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="17" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="18" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="20" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="21" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="22" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="23" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="24" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="25" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="26" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="27" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="28" size="1" type="text"></td>
      </tr>
      <tr>
	<td style="background-color: black;" colspan="11"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="30" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="31" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="32" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="33" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="34" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="35" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="36" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="37" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="38" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="40" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="41" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="42" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="43" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="44" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="45" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="46" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="47" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="48" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="50" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="51" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="52" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="53" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="54" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="55" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="56" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="57" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="58" size="1" type="text"></td>
      </tr>
      <tr>
	<td style="background-color: black;" colspan="11"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="60" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="61" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="62" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="63" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="64" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="65" size="1" type="text"></td>
	<td style="background-color: black;" rowspan="3"></td>
	<td><input style="" readonly="readonly" name="66" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="67" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="68" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="70" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="71" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="72" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="73" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="74" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="75" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="76" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="77" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="78" size="1" type="text"></td>
      </tr>
      <tr>
	<td><input style="" readonly="readonly" name="80" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="81" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="82" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="83" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="84" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="85" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="86" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="87" size="1" type="text"></td>
	<td><input style="" readonly="readonly" name="88" size="1" type="text"></td>
      </tr>
    </tbody></table>
  </form>
  <script type="text/javascript">
<!--

// SUDOKU-SOLVER [BRUTE FORCE]
// (C) 2005 Hal Canary
// h3 at halcanary dot org
// Version: 2005-12-06
// This is free software; you can redistribute
// it and modify it under the terms of version
// 2 of the GNU GPL.

function solve() {
	var sdkinp = document.getElementById("sudokuinput");
	var sdkout = document.getElementById("sudokuoutput");
	var s = new Array(81);
	var p = new Array(81);
	var orig = new Array(81);

	clearoutput();

	for(var i = 0; i < 81; i++) {
		s[i] = sdkinp[i].value;
		if (s[i] == "") { s[i] = 0; }
		if (s[i] == " ") { s[i] = 0; }
		if (s[i] != 0) {
			orig[i] = 1;
			p[i] = 1;
			sdkout[i].value = s[i];
			sdkout[i].style.backgroundColor = "#dddddd";
		} else {
			orig[i] = 0;	
			p[i] = 0;	
			sdkout[i].style.backgroundColor = "#ffffff";
		}
	}

	var elim = new Array(81);
	for(var i = 0; i < 81; i++) {
		elim[i] = new Array(10);
		for(var j = 0; j < 10; j++) {
			elim[i][j] = 0;
		}
	}
	function bleg(w) {

		var row = (Math.floor(w/9) * 9);
		for(var i = 0; i < 9; i++) {
			foo(row + i,s[w]);
		}
		var col = w%9;
		for(var i = 0; i < 9; i++) {
			foo(col + (i*9),s[w]);
		}
		var square = (Math.floor(w/3)*3) - (Math.floor(w/9)*9)
			+ (Math.floor(w/27)*27);
		things = [ square+ 0, square+ 1, square+ 2,
			   square+ 9, square+10, square+11,
			   square+18, square+19, square+20 ];
		for(var i = 0; i < 9; i++) {
			foo(things[i],s[w]);
		}
	}

	function foo(pos,valz) {
		if (s[pos]==0) {
			elim[pos][valz]++;
			if (elim[pos][valz] == 1) {
				elim[pos][0]++;
			}
			if (elim[pos][0] == 8){
				for(var k=1; k < 10; k++) {
					if (elim[pos][k]==0){
						s[pos]=k;
						sdkout[pos].value = k;
						sdkout[pos].style.backgroundColor = "#ffffaa";
						p[pos]=1;
						bleg(pos);
					}
				}
			}
		}
	}
	for(var w = 0; w < 81; w++) {
		if (orig[w]==1){
			bleg(w);
		}
	}

	function brute() {
		//work on brute-forceing
		// I *am* the Brute Squad.
		function testpos(pos) {
			var square;
			var contents;
			// Test the 3x3 region.
			square = (Math.floor(pos/3)*3) - (Math.floor(pos/9)*9)
				+ (Math.floor(pos/27)*27);
			contents = [ s[square+ 0], s[square+ 1], s[square+ 2],
				s[square+ 9], s[square+10], s[square+11],
				s[square+18], s[square+19], s[square+20] ];
			for(var i = 0; i < 9; i++) {
				if (contents[i] != 0) {
					for(var j = i+1; j < 9; j++) {
						if (contents[i] == contents[j]) {
							return 1;
						}
					}
				}
			}
			// Test the row.
			square = (Math.floor(pos/9)*9);
			contents = [ s[square+ 0], s[square+ 1], s[square+ 2],
				s[square+ 3], s[square+4], s[square+5],
				s[square+6], s[square+7], s[square+8] ];
			for(var i = 0; i < 9; i++) {
				if (contents[i] != 0) {
					for(var j = i+1; j < 9; j++) {
						if (contents[i] == contents[j]) {
							return 1;
						}
					}
				}
			}
			// Test the column.
			square = pos%9;
			contents = [ s[square+ 0], s[square+ 9], s[square+ 18],
				s[square+27], s[square+36], s[square+45],
				s[square+54], s[square+63], s[square+72] ];
			for(var i = 0; i < 9; i++) {
				if (contents[i] != 0) {
					for(var j = i+1; j < 9; j++) {
						if (contents[i] == contents[j]) {
							return 1;
						}
					}
	    			}
	  		}
			// Passed all tests.
			return 0;
		}
		// Main loop:
		var done = 0;
		var c = 0;	// current position.
		var iteration = 0;
		var neediteration = 0;
		var sure="Are you sure there's a solution?";
		var good;
		var bad;
		while ( ! done ) {
			iteration++;
			if (c==81) {
				done = 1 ;
			} else if (p[c] == 1) {
				c++;
			} else {
				good = 0;
				bad = 0;
				if (s[c] == 0 || neediter == 1 ) {
					s[c]++;
					//sdkout[c].value = s[c];
					if (s[c] >= 10) { bad = 1; }
					neediter = 0;
				}
				while(!good && !bad) {
					if (testpos(c)) {
						s[c]++;
						//sdkout[c].value = s[c];
						if (s[c] >= 10) { bad = 1; }
					} else { good = 1; }
				}
				if (bad) {
					s[c] = 0;
					//sdkout[c].value = "";
					c = c-1;
					if (c == -1) {
						alert( sure );
						return 1;
					}
					while (p[c] == 1) {
						c = c-1;
						if (c == -1) {
							alert( sure );
							return 1;
						}
					}
					neediter=1;
				} else if (good) {
					sdkout[c].value = s[c];
					c++;
				}
			}
		}
	}
	brute();
	for(var i = 0; i < 81; i++) {
		sdkout[i].value = s[i];
	}
}





function clearinput() {
	var sdkinp = document.getElementById("sudokuinput");
	for(var i = 0; i < 81; i++) {
		sdkinp[i].value = "";
	}
}
function clearoutput() {
	var sdkout = document.getElementById("sudokuoutput");
	for(var i = 0; i < 81; i++) {
		sdkout[i].value = "";
		sdkout[i].style.backgroundColor = "#ffffff";
	}
}

function sample1() {
	var sdkinp = document.getElementById("sudokuinput");
	var x = new Array(
	"","","",2,1,5,6,3,"","",
	6,"","","",4,9,"","","",
	"","","","","","",4,8,
	"","",1,"",5,2,"","","",
	"",5,7,"","","",1,2,"",
	"","","",1,4,"",7,"","",
	8,4,"","","","","","","",
	"","",6,4,"","","",1,"",
	"",2,5,3,6,9,"","","");
	for(var i = 0; i < 81; i++) {
		sdkinp[i].value = x[i];
	}
	clearoutput() ;
}

function sample2() {
	var sdkinp = document.getElementById("sudokuinput");
	var x = new Array(
	"",1,2,3,"","","","","",
	"",4,"",5,"",6,"","","",
	"",5,"","","","",1,4,7,
	2,"","","",4,"",8,"",6,
	4,"","","",9,"","","",3,
	6,"",5,"",2,"","","",1,
	8,3,4,"","","","",6,"",
	"","","",4,"",7,"",5,"",
	"","","","","",2,9,1,"");
	for(var i = 0; i < 81; i++) {
		sdkinp[i].value = x[i];
	}
	clearoutput() ;
}

function sample3() {
	var sdkinp = document.getElementById("sudokuinput");
	var x = new Array(
	"","",1,"","",2,3,"",4,
	5,"","",3,"",6,1,"","",
	4,"","","","",7,8,"","",
	"",1,"","",5,"","",4,"",
	"",8,"","",3,"","",7,"",
	"",6,"","",9,"","",2,"",
	"","",3,4,"","","","",6,
	"","",2,1,"",5,"","",9,
	6,"",7,8,"","",4,"","");
	for(var i = 0; i < 81; i++) {
		sdkinp[i].value = x[i];
	}
	clearoutput() ;
}
-->
  </script>
</div><div class="section"><p class="rightside">file modification time: 2006-08-02 01:22:17</p></div>
<div class="section">
<p class="centered">Copyright 1997-2013 by Hal Canary.<br>
<i>mailto: halcanary at gmail dot com</i><br>
<a href="http://halcanary.org"><i>http://halcanary.org</i></a></p>
</div>
</div>
</body>
</html>
