<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Voder-Vocoder: generate image files</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
font-family:sans-serif;
}
.column {
max-width:35em;
margin:0 auto;
}
img {
max-width:100%;
height:auto;
}
</style>
</head>

  <!-- Copyright 2012-2019 Hal Canary. ALL RIGHTS RESERVED. -->

  <body>
    <div class="column">

      <h1 class="blogtitle">generate image files</h1>

      <div class="byline">By Hal Canary,
        2012-03-23 12:00:00
        (<a href="https://halcanary.org/vv/2012/03/23/csg26/">link</a>)
        </div>
      <!-- SRC= 2012-03-23-csg26 -->
      <hr style="border:0;height:1px;color:#000;background-color:#000;">

      <div class="content">

<!-- BEGIN CONTENT -->


<pre>#!/usr/bin/python

import Image
import numpy

X = 1024
Y = 768
filename = &#0039;/tmp/x.png&#0039;

ima = numpy.zeros((Y,X,4), dtype=numpy.uint8)
ima[:,:,3] = 255 # make opaque
Image.fromarray(ima,mode=&#0039;RGBA&#0039;).save(filename)
</pre>

For example:
<pre><span class="comment">#!/usr/bin/env python</span>
<span class="preproc">import</span><span class="normal"> Image</span>
<span class="preproc">import</span><span class="normal"> numpy</span>
<span class="normal">N</span><span class="symbol">,</span><span class="normal"> K </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="number">16</span><span class="symbol">,</span><span class="number">16</span><span class="symbol">),</span><span class="normal"> </span><span class="symbol">(</span><span class="number">256</span><span class="symbol">,</span><span class="normal"> </span><span class="number">256</span><span class="symbol">)</span>
<span class="normal">fn </span><span class="symbol">=</span><span class="normal"> </span><span class="string">'random_pixels.png'</span>
<span class="normal">im </span><span class="symbol">=</span><span class="normal"> numpy</span><span class="symbol">.</span><span class="normal">random</span><span class="symbol">.</span><span class="function">random_integers</span><span class="symbol">(</span>
<span class="normal">    </span><span class="number">0</span><span class="symbol">,</span><span class="number">255</span><span class="symbol">,(</span><span class="normal">N</span><span class="symbol">[</span><span class="number">0</span><span class="symbol">],</span><span class="normal">N</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">],</span><span class="number">3</span><span class="symbol">)).</span><span class="function">astype</span><span class="symbol">(</span><span class="string">'uint8'</span><span class="symbol">)</span>
<span class="normal">Image</span><span class="symbol">.</span><span class="function">fromarray</span><span class="symbol">(</span><span class="normal">im</span><span class="symbol">,</span><span class="normal">mode</span><span class="symbol">=</span><span class="string">'RGB'</span><span class="symbol">).</span><span class="function">resize</span><span class="symbol">(</span><span class="normal">K</span><span class="symbol">).</span><span class="function">save</span><span class="symbol">(</span><span class="normal">fn</span><span class="symbol">)</span>
<span class="keyword">print</span><span class="normal"> </span><span class="string">'Wrote to'</span><span class="symbol">,</span><span class="normal"> fn</span></pre>


<!-- END CONTENT -->

      </div>
      <hr style="border:0;height:1px;color:#000;background-color:#000;">

      <p>(<a href="../../../../archives/">back</a>)</p>
    </div>
  </body>
</html>
